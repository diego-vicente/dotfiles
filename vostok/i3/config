font pango:Iosevka 10

set $up k
set $down j
set $left h
set $right l

set $mod Mod4

floating_modifier $mod
bindsym $mod+Return exec emacsclient -c

bindsym $mod+q kill
bindsym $mod+d exec --no-startup-id rofi -show drun

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+i split h
bindsym $mod+o split v

bindsym $mod+f fullscreen toggle
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split
bindsym $mod+a focus parent
bindsym $mod+z focus child

bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle

bindsym $mod+minus move scratchpad
bindsym $mod+equal scratchpad show

# class                 border   backgr.  text    indicator child_border
client.focused          #5e81ac  #5e81ac  #eceff4 #81a1c1   #5e81ac
client.focused_inactive #4c566a  #4c566a  #eceff4 #5c667a   #4c566a
client.unfocused        #4c566a  #4c566a  #eceff4 #5c667a   #4c566a
client.urgent           #bf616a  #bf616a  #2e3440 #d08770   #bf616a
client.placeholder      #000000  #0c0c0c  #eceff4 #000000   #0c0c0c

client.background       #2e3440

set $ws1 "1: "
set $ws2 "2: "
set $ws3 "3: "
set $ws4 "4: "
set $ws5 "5: "
set $ws6 "6: "
set $ws7 "7: "
set $ws8 "8: "
set $ws9 "9: "
set $ws0 "10: "

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws0

bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws0

bindsym $mod+Shift+r restart
bindsym $mod+Shift+c exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

mode "Resize" {
        bindsym $left       resize shrink width 10 px or 10 ppt
        bindsym $down       resize grow height 10 px or 10 ppt
        bindsym $up         resize shrink height 10 px or 10 ppt
        bindsym $right      resize grow width 10 px or 10 ppt

        bindsym Left        resize shrink width 10 px or 10 ppt
        bindsym Down        resize grow height 10 px or 10 ppt
        bindsym Up          resize shrink height 10 px or 10 ppt
        bindsym Right       resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

bindsym XF86MonBrightnessDown exec xbacklight -5
bindsym XF86MonBrightnessUp exec xbacklight +5

bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -q set Master 5%+
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -q set Master 5%-
bindsym XF86AudioMute exec --no-startup-id amixer -q set Master +1 toggle

bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

bindsym $mod+Shift+Print exec maim -s --format=png /dev/stdout | xclip -selection clipboard -t image/png -i

for_window [class="^.*"] border pixel 4

gaps inner 20
gaps outer 7

set $mode_gaps_toggle Set gaps: [p]retty, [c]omfortable, [o]ff

mode "$mode_gaps_toggle" {
    bindsym p gaps inner current set 20; gaps outer current set 7
    bindsym c gaps inner current set 15; gaps outer current set 5
    bindsym o gaps inner current set 0; gaps outer current set 0

    bindsym Escape mode "default"
    bindsym Return mode "default"
}

bindsym $mod+Shift+g mode "$mode_gaps_toggle"

set $mode_screen_toggle Screen layout: [w]ork, [h]ome, [s]imple

mode "$mode_screen_toggle" {
     bindsym w exec --no-startup-id ~/etc/dotfiles/vostok/scripts/set-work-monitor.sh
     bindsym h exec --no-startup-id ~/etc/dotfiles/vostok/scripts/set-home-monitor.sh
     bindsym s exec --no-startup-id ~/etc/dotfiles/vostok/scripts/set-single-monitor.sh

     bindsym Escape mode "default"
     bindsym Return mode "default"
}

bindsym $mod+Shift+s mode "$mode_screen_toggle"

set $mode_audio_toggle Select audio setup: [l]aptop, [h]eadphones, [m]onitor

mode "$mode_audio_toggle" {
     bindsym l exec --no-startup-id ~/etc/dotfiles/vostok/scripts/set-laptop-audio.sh; mode "default"
     bindsym h exec --no-startup-id ~/etc/dotfiles/vostok/scripts/set-headphones-audio.sh; mode "default"
     bindsym m exec --no-startup-id ~/etc/dotfiles/vostok/scripts/set-home-audio.sh; mode "default"

     bindsym Escape mode "default"
     bindsym Return mode "default"
}

bindsym $mod+Shift+a mode "$mode_audio_toggle"

bindsym $mod+Shift+bracketleft move workspace to output up
bindsym $mod+Shift+bracketright move workspace to output right

bindsym $mod+Shift+x exec --no-startup-id ~/etc/dotfiles/vostok/scripts/lock-and-blur.sh

bindsym $mod+t exec --no-startup-id WINIT_X11_SCALE_FACTOR=1 alacritty
bindsym $mod+Shift+t exec --no-startup-id emacsclient -c -e "(vterm)"

exec_always --no-startup-id hsetroot -solid "#404552"
exec_always --no-startup-id systemctl --user restart polybar
